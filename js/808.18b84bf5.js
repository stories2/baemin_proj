"use strict";(self["webpackChunkbaemin_proj"]=self["webpackChunkbaemin_proj"]||[]).push([[808],{6146:function(e,o,t){t.d(o,{Z:function(){return W}});var n=t(3396),r=t(7139);function s(e,o,t,s,d,a){const l=(0,n.up)("BIconArrowDownShort"),i=(0,n.up)("AddressModal"),c=(0,n.Q2)("b-modal");return(0,n.wg)(),(0,n.iD)("div",{style:(0,r.j5)({color:e.color||"white"})},[(0,n.Uk)((0,r.zw)(e.addrStr)+" ",1),"장바구니"!==e.addrStr?(0,n.wy)(((0,n.wg)(),(0,n.j4)(l,{key:0,onClick:o[0]||(o[0]=o=>e.onArrowBtnClicked())},null,512)),[[c,void 0,void 0,{addressModal:!0}]]):(0,n.kq)("",!0),(0,n.Wm)(i,{ref:"addressModalComponent",onAddressLoad:e.onAddressLoaded},null,8,["onAddressLoad"])],4)}const d={id:"map",ref:"map",style:{display:"hidden"}},a={class:"container"},l={class:"row"},i={class:"col"},c={class:"col"},m=(0,n.Uk)(" 현재 위치로 설정");function u(e,o,t,r,s,u){const p=(0,n.up)("b-form-input"),g=(0,n.up)("BIconGeo"),h=(0,n.up)("b-modal");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",d,null,512),(0,n.Wm)(h,{ref:"addressModal",id:"addressModal",title:"주소 설정","hide-footer":""},{default:(0,n.w5)((()=>[(0,n._)("div",a,[(0,n._)("div",l,[(0,n._)("div",i,[(0,n.Wm)(p,{modelValue:e.address,"onUpdate:modelValue":o[0]||(o[0]=o=>e.address=o),placeholder:"지번, 도로명으로 검색"},null,8,["modelValue"])])]),(0,n._)("div",{class:"row",style:{"margin-top":"15px",cursor:"pointer"},onClick:o[1]||(o[1]=o=>e.getUserLocation())},[(0,n._)("div",c,[(0,n.Wm)(g),m])])])])),_:1},512)])}t(1703);var p=t(2482);class g{constructor(e,o,t,n){(0,p.Z)(this,"container",void 0),(0,p.Z)(this,"map",void 0),(0,p.Z)(this,"geocoder",void 0),this.container=e;const r={center:new window.kakao.maps.LatLng(o,t),level:n};this.map=new window.kakao.maps.Map(this.container,r),this.geocoder=new window.kakao.maps.services.Geocoder}coord2RegionCode(e){return new Promise((o=>{this.geocoder.coord2Address(e.long,e.lat,(e=>{o(e)}))}))}addressSearch(e){return new Promise((o=>{this.geocoder.addressSearch(e,((e,t)=>{o({result:e,status:t})}))}))}}class h{getLocationAutomatically(){const e=new h;return e.grantLocation().then((o=>{if("denied"!=o)return e.getCurrentLocation();throw new Error("User denied location permission")}))}grantLocation(){return this.grantPermission("geolocation")}grantPermission(e){return navigator.permissions.query({name:e}).then((e=>e.state))}getCurrentLocation(){return new Promise(((e,o)=>{navigator.geolocation.getCurrentPosition((o=>{e(o.coords)}),(e=>{o(e)}))}))}}var w=(0,n.aZ)({name:"AddressModal",data(){return{address:"",kakaoMap:{}}},mounted(){this.kakaoMap=new g(this.$refs.map,33.450701,126.570667,3)},methods:{showModal(){console.log(this.$refs.addressModal)},hideModal(){},getUserLocation(){let e={lat:0,long:0,address_name:"",main_address_no:"",mountain_yn:"",region_1depth_name:"",region_2depth_name:"",region_3depth_name:"",sub_address_no:"",zip_code:""};const o=new h;o.getLocationAutomatically().then((o=>(console.log("pos",o),o?(e.lat=o.latitude,e.long=o.longitude,this.kakaoMap.coord2RegionCode({lat:o.latitude,long:o.longitude})):null))).then((o=>{if(console.log("res",o),!(o&&o.length>0))throw new Error("Cannot get user address info");{const t=o[0].address;e={...e,...t},console.log(e),this.$emit("address-load",e),this.address=`${e.region_1depth_name} ${e.region_2depth_name} ${e.region_3depth_name}`}})).catch((e=>{console.error("[AddressModal] [getUserLocation] ",e)}))}}}),_=t(89);const v=(0,_.Z)(w,[["render",u]]);var f=v,k=(0,n.aZ)({name:"AddressSelectBtn",components:{AddressModal:f},props:{address:String,color:String},data(){return{addrStr:this.address}},methods:{onArrowBtnClicked(){this.$refs.addressModalComponent.showModal()},onAddressLoaded(e){console.log("addressInfo",e),this.addrStr=`${e.region_1depth_name} ${e.region_2depth_name} ${e.region_3depth_name}`}}});const b=(0,_.Z)(k,[["render",s],["__scopeId","data-v-ec00721c"]]);var W=b},2808:function(e,o,t){t.r(o),t.d(o,{default:function(){return C}});var n=t(3396);const r={style:{"margin-top":"15px"}};function s(e,o,t,s,d,a){const l=(0,n.up)("top-bar"),i=(0,n.up)("CardButton"),c=(0,n.up)("b-col"),m=(0,n.up)("b-row");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(l),(0,n._)("div",r,[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.cardList,(o=>((0,n.wg)(),(0,n.j4)(c,{key:o,cols:o.col,sm:o.sm,md:o.md,lg:o.lg,xl:o.xl},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{title:o.title,msg:o.msg,onClick:t=>e.$router.push(o.url||"/")},null,8,["title","msg","onClick"])])),_:2},1032,["cols","sm","md","lg","xl"])))),128))])),_:1})])])}var d=t(7139);const a={class:"card-css"},l={class:"card-title"},i={class:"card-descript"};function c(e,o,t,r,s,c){return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,(0,d.zw)(e.title),1),(0,n._)("pre",i,(0,d.zw)(e.msg),1)])}var m=(0,n.aZ)({name:"CardButton",props:{title:String,msg:String}}),u=t(89);const p=(0,u.Z)(m,[["render",c],["__scopeId","data-v-504bd290"]]);var g=p;const h={class:"top-bar"};function w(e,o,t,r,s,d){const a=(0,n.up)("BIconBell"),l=(0,n.up)("b-col"),i=(0,n.up)("address-selector-btn"),c=(0,n.up)("BIconGrid"),m=(0,n.up)("b-row"),u=(0,n.up)("BIconSearch"),p=(0,n.up)("b-input-group-prepend"),g=(0,n.up)("b-form-input"),w=(0,n.up)("b-input-group");return(0,n.wg)(),(0,n.iD)("div",h,[(0,n.Wm)(m,{style:{"margin-bottom":"15px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{style:{"text-align":"start"}},{default:(0,n.w5)((()=>[(0,n.Wm)(a)])),_:1}),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{address:"방이동"})])),_:1}),(0,n.Wm)(l,{style:{"text-align":"end"}},{default:(0,n.w5)((()=>[(0,n.Wm)(c)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{size:"sm",class:"mb-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{"is-text":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1}),(0,n.Wm)(g,{type:"search",placeholder:"Search terms"})])),_:1})])),_:1})])),_:1})])}var _=t(6146),v=(0,n.aZ)({name:"TopBar",components:{AddressSelectorBtn:_.Z}});const f=(0,u.Z)(v,[["render",w],["__scopeId","data-v-1c10415e"]]);var k=f,b=(0,n.aZ)({components:{CardButton:g,TopBar:k},data(){return{cardList:[{title:"배민",msg:"한 번에 한 집만\n빠르게 배달해요!",col:6,sm:6,md:6,lg:6,xl:3,url:"/address-based"},{title:"배달",msg:"세상은 넗고\n맛집은 많다",col:6,sm:6,md:6,lg:6,xl:3},{title:"포장",msg:"가까운 가게는 직접 가지러 가지요",col:12,sm:12,md:12,lg:8,xl:6},{title:"B마트",msg:"장보기도 \n즉시 배달",col:6,sm:6,md:6,lg:4,xl:3},{title:"밀키트/간편식",msg:"뚝딱 만드는 \n근사한 한끼",col:6,sm:6,md:6,lg:4,xl:3},{title:"배민스토어",msg:"꾸까의 예쁜 꽃을 바로 배달!",col:12,sm:12,md:12,lg:8,xl:6}]}}});const W=(0,u.Z)(b,[["render",s]]);var C=W}}]);
//# sourceMappingURL=808.18b84bf5.js.map